<!DOCTYPE html>
<html>

<head>
  <title>Link2Letter</title>
  <link rel="stylesheet" href="popup.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="logo-and-title">
        <span class="title">Link2Letter</span>
      </div>
      <div class="tabs-and-title">
        <div class="tab active-tab" data-tab="save">Save a Page</div>
        <div class="tab" data-tab="view">My Links</div>
        <a href="#" id="accountLink" class="tab">Account</a>
        <div class="tab" data-tab="settings"><img src="gear.png" alt="Settings" style="width: 20px; height: 20px;">
        </div>
      </div>
    </div>

    <div class="main-content">
      <div id="saveTab" class="tab-content active-content">
        <div class="form-group">
          <label for="title" class="form-label">Title</label>
          <input type="text" id="title" placeholder="Enter title here">
        </div>
        <div class="form-group">
          <label for="description" class="form-label">Description</label>
          <textarea id="description" placeholder="Enter description here"></textarea>
        </div>
        <div class="form-group">
          <label for="notes" class="form-label">Notes</label>
          <textarea id="notes" placeholder="Add notes..." rows="3" style="width: 100%;"></textarea>
        </div>
        <div class="form-group">
          <label for="tagInput" class="form-label">Tags</label>
          <div id="tagContainer">
            <input type="text" id="tagInput" placeholder="Add tags (comma-separated)...">
            <div id="selectedTags"></div>
          </div>
        </div>
        <div class="form-group">
          <div class="paywall-checkbox">
            <input type="checkbox" id="saveRemovePaywall">
            <label for="saveRemovePaywall">Remove Paywall with 12ft.io</label>
          </div>
        </div>
        <button id="saveLink">Save a Page</button>
        <div id="saveMessage" style="display: none; color: #666; font-size: 12px; margin-top: 5px;"></div>
      </div>

      <div id="viewTab" class="tab-content">
        <h2>My Links</h2>
        <span id="selectText">Select</span>
        <select id="sortOrder">
          <option value="newest" selected>Newest First</option>
          <option value="oldest">Oldest First</option>
        </select>
        <select id="tagFilter">
          <option value="">Filter by tag</option>
        </select>
        <div id="bulkActions" style="display: none;">
          <a href="#" id="selectAll" class="action-link">Select All</a>
          <a href="#" id="selectNone" class="action-link">Select None</a>
          <a href="#" id="deleteSelected" class="action-link">Delete Selected</a>
        </div>
        <div id="activeFilters"></div>

        <table id="savedLinksTable">
          <thead>
            <tr>
              <th></th>
              <th class="table-header">Title</th>
              <th class="table-header">Description</th>
              <th class="table-header">Tags</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="savedLinks"></tbody>
        </table>
        <div id="pagination"></div>
      </div>

      <div id="settingsTab" class="tab-content">
        <h2>Settings</h2>
        <div id="rssFeedSection" style="display: none;">
          <p><strong>RSS Feed URL: </strong><span id="rssFeedUrl" class="copyable" title="Click to copy"></span></p>
        </div>
        <p>Click <a href="https://app.beehiiv.com/settings/api">here</a> to create your LinkSaver account and retrieve
          your API key.</p>
        <div id="apiKeySection">
          <div id="apiKeyEntry">
            <p><strong>API Key: </strong>
              <input type="text" id="apiKey" placeholder="Enter your API key">
              <button id="validateApiKey">Validate</button>
          </div>
          <button id="editApiKey" style="display: none;">Edit</button>
          <div id="apiKeyStatus"></div>
        </div>
        <p>Use the Link2Letter extension to save interesting links from around the web and generate an RSS feed
          of these links. beehiiv users on the <strong>Max</strong> plan can use the RSS-to-Send feature to
          automatically populate content into posts.</br></br>To upgrade to the Max plan <a
            href="https://app.beehiiv.com/billing">click here.</a> For a tutorial on how to use RSS feeds, <a
            href="https://help.beehiiv.com/en/articles/4933119-how-to-use-rss-feeds-to-publish-content">click here.</a>
        </p>
      </div>

      <div id="premiumTab" class="tab-content">
        <div class="premium-container">
          <h2>Upgrade to Premium</h2>
          <p class="premium-message">You've reached the free limit of saved links!</p>
          <div class="pricing-options">
            <div class="pricing-card">
              <h3>Monthly</h3>
              <p class="price">$9.99<span>/month</span></p>
              <button onclick="window.open('https://app.link2letter.com/billing?plan=monthly')" class="upgrade-btn">Choose Monthly</button>
            </div>
            <div class="pricing-card best-value">
              <div class="best-value-tag">Best Value</div>
              <h3>Annual</h3>
              <p class="price">$99.99<span>/year</span></p>
              <p class="savings">Save 17%</p>
              <button onclick="window.open('https://app.link2letter.com/billing?plan=annual')" class="upgrade-btn">Choose Annual</button>
            </div>
          </div>
          <button id="dismissPremium" class="dismiss-btn">Maybe Later</button>
        </div>
      </div>

      <div id="message"></div>
    </div>
  </div>
  <script src="popup.js"></script>
</body>

</html>